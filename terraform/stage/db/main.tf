module "rds" {
  source                   = "../../modules/rds"
  name_prefix              = "${var.name_prefix}-${var.environment}"
  aws_region               = "${var.aws_region}"
  vpc_id                   = "${data.terraform_remote_state.common.vpc_id}"
  sg-minion                = "${data.terraform_remote_state.common.webapp_instances_sg_id}"
  rds_instance_name        = "${var.name_prefix}-${var.environment}"
  rds_engine_version       = "${var.engine_version}"
  rds_instance_class       = "${var.instance_class}"
  rds_allocated_storage    = "${var.allocated_storage}"
  rds_is_multi_az          = "${var.multi_az}"
  rds_backup_window        = "${var.backup_window}"
  rds_bkp_retention_period = "${var.backup_retention_period}"
  database_user            = "${var.db_user}"
  database_password        = "${var.db_pass}"
  database_name            = "${var.name_prefix}"
  subnets                  = "${var.subnets}"
  subnets_azs              = "${var.subnets_azs}"
}
